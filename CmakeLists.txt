cmake_minimum_required(VERSION 3.20)

project(Chess VERSION 0.1.2)

configure_file(${CMAKE_CURRENT_SOURCE_DIR}/include/version.h.in ${CMAKE_CURRENT_SOURCE_DIR}/include/version.h)

set(SRCS_DIR ${CMAKE_CURRENT_SOURCE_DIR}/src)
set(HEADER_DIR ${CMAKE_CURRENT_SOURCE_DIR}/include)
set(CMAKE_INSTALL_PREFIX ${CMAKE_CURRENT_SOURCE_DIR}/bin)
set(SRCS
    ${SRCS_DIR}/main.c
    ${SRCS_DIR}/Board.c
    ${SRCS_DIR}/listMove.c
)

set(HEADERS
    ${HEADER_DIR}/Board.h
    ${HEADER_DIR}/listMove.h
    ${HEADER_DIR}/except.h
    ${HEADER_DIR}/version.h
)

set(CMAKE_C_STANDARD 17)

add_executable(Chess ${SRCS} ${HEADERS})

install(TARGETS Chess RUNTIME DESTINATION .)